# ğŸ”µ GLM è¿‡å¤œä»»åŠ¡æŒ‡å—

> **Epic**: frontend-v3  
> **æ‰§è¡Œæ¨¡å¼**: æ¨¡å¼ C - è¿‡å¤œæ‰§è¡Œ  
> **é¢„è®¡æ—¶é—´**: ~7.5 å°æ—¶  
> **å¼€å§‹æ—¶é—´**: 2026-01-29 æ™š

---

## ğŸ“‹ ä»»åŠ¡æ¦‚è¿°

ä½ éœ€è¦å®Œæˆ DragonFly å‰ç«¯ V3 é‡æ„çš„åŸºç¡€ç»„ä»¶ï¼ŒåŒ…æ‹¬ç±»å‹å®šä¹‰ã€Storeã€å¸ƒå±€ã€Sidebarã€Chat ç»„ä»¶å’Œé¢æ¿ç³»ç»Ÿã€‚

**å·¥ä½œç›®å½•**: `client/src/refactor_v2/`

---

## ğŸ“š å¿…è¯»æ–‡æ¡£ï¼ˆå¼€å§‹å‰é˜…è¯»ï¼‰

1. `tasks/FutureShop/frontend-architecture-guide.md` - ä¸‰æ å¸ƒå±€ã€æ¶ˆæ¯ç±»å‹ã€é¢æ¿æ¶æ„
2. `tasks/FutureShop/agent-task-spec.md` - éªŒæ”¶æ ‡å‡†ã€API å¥‘çº¦
3. `FRONTEND_REFACTOR_REVIEW.md` - Amp è¯„å®¡ï¼ˆæ–°å¢äº¤äº’éœ€æ±‚ï¼‰

---

## ğŸ”´ é‡è¦è§„åˆ™ (Oracle æœ€ç»ˆç‰ˆ)

1. **Lockfile ç‹¬å æƒ**: **åªæœ‰ä½ ï¼ˆGLMï¼‰å…è®¸è¿è¡Œ `pnpm add`ã€‚** è¯·åœ¨ L-001 ä¸­å®‰è£…æ‰€æœ‰ Agent éœ€è¦çš„ä¾èµ–ï¼ˆåŒ…æ‹¬ `lightweight-charts`ï¼‰ã€‚
2. **index.ts è´Ÿè´£æƒ**: ä½ è´Ÿè´£ç»´æŠ¤ `types/index.ts` å’Œ `stores/index.ts`ã€‚Codex ä¸ä¼šä¿®æ”¹è¿™äº›æ–‡ä»¶ä»¥é¿å…å†²çªã€‚
3. **Gate 1 ä¿¡å·**: **å½“ä½ å®Œæˆ L-004 (stores.md) åï¼Œè¯·ç¡®ä¿ `stores/market.store.ts` å·²åˆ›å»ºã€‚** è¿™æ˜¯ Codex å¯åŠ¨æ ¸å¿ƒé€»è¾‘çš„ä¿¡å·ã€‚
4. **æŒ‰é¡ºåºæ‰§è¡Œä»»åŠ¡**: ä¸è¦è·³è¿‡ä»»åŠ¡ï¼Œä¾èµ–å…³ç³»å¾ˆé‡è¦ã€‚
5. **è®°å½•ä»»åŠ¡æ—¶é—´**: å¿…é¡»åœ¨æ¯ä¸ªä»»åŠ¡æ–‡ä»¶å¼€å¤´è®°å½• `å¼€å§‹æ—¶é—´` å’Œ `ç»“æŸæ—¶é—´`ã€‚
6. **æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡åè¿è¡Œ `pnpm check`**: ç¡®ä¿æ— ç±»å‹é”™è¯¯ã€‚
7. **é‡åˆ°é˜»å¡æ—¶åŒºåˆ†å¤„ç†**: è®°å½•é—®é¢˜å¹¶ç»§ç»­ã€‚

---

## ğŸš¨ é—®é¢˜è®°å½•æ¨¡æ¿

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œåœ¨ `client/src/refactor_v2/ISSUES.md` ä¸­è®°å½•ï¼š

```markdown
### ğŸ”´ é˜»å¡: L-XXX

**æ—¶é—´**: YYYY-MM-DD HH:MM
**é—®é¢˜æè¿°**: ç®€è¿°é‡åˆ°çš„é—®é¢˜
**é”™è¯¯ä¿¡æ¯**: 
\`\`\`
ç²˜è´´å®Œæ•´é”™è¯¯ä¿¡æ¯
\`\`\`
**å°è¯•çš„è§£å†³æ–¹æ¡ˆ**: 
1. ...
2. ...
**å»ºè®®**: éœ€è¦ Amp Review ååŠ©
```

---

## ğŸ“Š ä»»åŠ¡æ‰§è¡Œé¡ºåº

### Wave 1: åŸºç¡€è®¾æ–½ï¼ˆå…ˆåšè¿™äº›ï¼ï¼‰

| é¡ºåº | ä»»åŠ¡ | æ–‡ä»¶ | é¢„è®¡æ—¶é—´ |
|-----|------|------|----------|
| 1 | L-000 | L-000-performance-store.md | 20 min |
| 2 | L-001 | L-001-install-deps.md | 10 min |
| 3 | L-002 | L-002-types-chat.md | 20 min |
| 4 | L-003 | L-003-types-market-panel.md | 20 min |
| 5 | L-004 | L-004-stores.md | 40 min |

### Wave 2: å¸ƒå±€ç»„ä»¶

| é¡ºåº | ä»»åŠ¡ | æ–‡ä»¶ | é¢„è®¡æ—¶é—´ |
|-----|------|------|----------|
| 5 | L-005 | L-005-sidebar.md | 45 min |
| 6 | L-006 | L-006-main-layout.md | 45 min |
| 7 | L-007 | L-007-responsive-hook.md | 25 min |

### Wave 3: Chat ç»„ä»¶

| é¡ºåº | ä»»åŠ¡ | æ–‡ä»¶ | é¢„è®¡æ—¶é—´ |
|-----|------|------|----------|
| 8 | L-008 | L-008-chat-workspace.md | 30 min |
| 9 | L-009 | L-009-chat-list.md | 35 min |
| 10 | L-010 | L-010-message-card.md | 30 min |
| 11 | L-011 | L-011-chat-input.md | 25 min |
| 12 | L-012 | L-012-action-button.md | 15 min |

### Wave 4: é¢æ¿ç³»ç»Ÿ

| é¡ºåº | ä»»åŠ¡ | æ–‡ä»¶ | é¢„è®¡æ—¶é—´ |
|-----|------|------|----------|
| 13 | L-013 | L-013-panel-registry.md | 30 min |
| 14 | L-014 | L-014-stock-workspace.md | 35 min |
| 15 | L-015 | L-015-simple-panels.md | 60 min |

### ~~Wave 5: éƒ¨ç½² (æš‚è·³è¿‡)~~

| é¡ºåº | ä»»åŠ¡ | æ–‡ä»¶ | çŠ¶æ€ |
|-----|------|------|------|
| ~~16~~ | ~~L-016~~ | ~~L-016-docker.md~~ | â­ï¸ è·³è¿‡ |

---

## ğŸ› ï¸ æ¯ä¸ªä»»åŠ¡çš„æ‰§è¡Œæ­¥éª¤

1. **è¯»å–ä»»åŠ¡æ–‡ä»¶**ï¼š`tasks/epics/frontend-v3/glm/L-XXX-*.md`
2. **å¡«å†™å¼€å§‹æ—¶é—´**ï¼šåœ¨æ–‡ä»¶å¼€å¤´è®°å½•å½“å‰æ—¶é—´
3. **ç†è§£ç›®æ ‡**ï¼šæŸ¥çœ‹ä»»åŠ¡çš„ç›®æ ‡æ¸…å•
4. **æ‰§è¡Œæ­¥éª¤**ï¼šæŒ‰ç…§ Step 1, Step 2... ä¾æ¬¡æ‰§è¡Œ
5. **éªŒè¯**ï¼šè¿è¡Œ `pnpm check`
6. **ç¡®è®¤éªŒæ”¶æ ‡å‡†**ï¼šæ£€æŸ¥æ‰€æœ‰éªŒæ”¶é¡¹æ˜¯å¦æ»¡è¶³
7. **å¡«å†™ç»“æŸæ—¶é—´**ï¼šè®°å½•å®Œæˆæ—¶é—´å¹¶è¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

```bash
# ç±»å‹æ£€æŸ¥
pnpm check

# æ„å»ºæµ‹è¯•
pnpm build

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¯é€‰ï¼Œç”¨äºè§†è§‰éªŒè¯ï¼‰
pnpm dev

# æŸ¥çœ‹å½“å‰ç›®å½•ç»“æ„
ls -la client/src/refactor_v2/
```

---

## ğŸ“ æœ€ç»ˆç›®å½•ç»“æ„

å®Œæˆåï¼Œ`client/src/refactor_v2/` åº”è¯¥æ˜¯è¿™æ ·ï¼š

```
refactor_v2/
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ chat.ts
â”‚   â”œâ”€â”€ market.ts
â”‚   â”œâ”€â”€ panel.ts
â”‚   â””â”€â”€ connection.ts
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ chat.store.ts
â”‚   â”œâ”€â”€ market.store.ts
â”‚   â”œâ”€â”€ ui.store.ts
â”‚   â””â”€â”€ connection.store.ts
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â””â”€â”€ MainLayout.tsx
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ ChatWorkspace.tsx
â”‚   â”‚   â”œâ”€â”€ ChatList.tsx
â”‚   â”‚   â”œâ”€â”€ MessageCard.tsx
â”‚   â”‚   â”œâ”€â”€ ChatInput.tsx
â”‚   â”‚   â””â”€â”€ ActionButton.tsx
â”‚   â”œâ”€â”€ panels/
â”‚   â”‚   â”œâ”€â”€ PanelRegistry.ts
â”‚   â”‚   â”œâ”€â”€ StockWorkspace.tsx
â”‚   â”‚   â”œâ”€â”€ IntradayPanel.tsx
â”‚   â”‚   â”œâ”€â”€ OrderBookPanel.tsx
â”‚   â”‚   â”œâ”€â”€ IndicatorsPanel.tsx
â”‚   â”‚   â”œâ”€â”€ AdvicePanel.tsx
â”‚   â”‚   â””â”€â”€ NewsPanel.tsx
â”‚   â””â”€â”€ settings/
â”‚       â””â”€â”€ SettingsModal.tsx
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ useResponsiveLayout.ts
â””â”€â”€ ISSUES.md
```

## ğŸ“ index.ts èšåˆæ–‡ä»¶è´£ä»»å½’å±

| æ–‡ä»¶ | è´Ÿè´£ Agent | å…¶ä»– Agent æƒé™ |
|------|-----------|----------------|
| types/index.ts | ğŸ”µ GLM (L-002/L-003) | åªè¯» |
| stores/index.ts | ğŸ”µ GLM (L-000/L-004) | ğŸŸ¢ Codex å¯è¿½åŠ  |
| hooks/index.ts | ğŸ”µ GLM (L-007) | ğŸŸ¢ Codex å¯è¿½åŠ  |
| components/panels/index.ts | ğŸ”µ GLM (L-013) | ğŸŸ¢ Codex å¯è¿½åŠ  |

## ğŸš¦ Wave Checkpoint

æ¯å®Œæˆä¸€ä¸ª Wave åæ‰§è¡Œï¼š

```bash
# 1. ç±»å‹æ£€æŸ¥
pnpm check

# 2. æ„å»ºéªŒè¯
pnpm build

# 3. æäº¤æ£€æŸ¥ç‚¹
git add client/src/refactor_v2/
git commit -m "checkpoint: GLM wave-N complete"
```

âš ï¸ å¦‚æœä»»ä½•ä¸€æ­¥å¤±è´¥ï¼š
1. **å…ˆå°è¯•è‡ªè¡Œä¿®å¤**ï¼ˆå¦‚ç±»å‹å†²çªã€ç¼ºå¤±ä¾èµ–ï¼‰
2. ä¿®å¤æ— æœåˆ™**è·³è¿‡è¯¥æ£€æŸ¥æ­¥éª¤ï¼Œç»§ç»­åç»­ä»»åŠ¡**
3. å°†é—®é¢˜è®°å½•åˆ° ISSUES.mdï¼Œ**ç»ä¸åœæ­¢æ‰§è¡Œ**

---

## âœ… å®Œæˆåæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰ 16 ä¸ªä»»åŠ¡å·²å®Œæˆ
- [ ] `pnpm check` æ— é”™è¯¯
- [ ] `pnpm build` æˆåŠŸ
- [ ] `ISSUES.md` å·²è®°å½•ä»»ä½•é—®é¢˜
- [ ] ç›®å½•ç»“æ„ç¬¦åˆé¢„æœŸ

---

**å¼€å§‹æ‰§è¡Œå§ï¼ä» L-001 å¼€å§‹ã€‚Good luck! ğŸš€**
